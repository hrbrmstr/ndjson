---
output: rmarkdown::github_document
---

`ndjson` : Wicked-fast Streaming JSON ('ndjson') Reader

Rcpp/C++11 wrapper for <https://github.com/nlohmann/json>

The goal is to create a completely "flat" `data.frame`-like structure from ndjson
records.

The following functions are implemented:

- `stream_in`:	Stream in ndjson from a file
- `validate`:	Validate JSON records in an ndjson file

### Installation

```{r eval=FALSE}
devtools::install_git("https://gitlab.com/hrbrmstr/ndjson.git")
```

```{r echo=FALSE, message=FALSE, warning=FALSE, error=FALSE}
options(width=120)
```

### Usage

```{r message=FALSE}
library(ndjson)
library(microbenchmark)

# current verison
packageVersion("ndjson")

tf <- tempfile()
sample_data <- readr::read_lines("http://httpbin.org/stream/100")
length(sample_data)
readr::write_lines(sample_data, tf)

dplyr::glimpse(ndjson::stream_in(tf))

dplyr::glimpse(jsonlite::stream_in(file(tf), flatten=TRUE, verbose=FALSE))

microbenchmark(
  ndjson={ ndjson::stream_in(tf) },
  jsonlite={ jsonlite::stream_in(file(tf), flatten=TRUE, verbose=FALSE) }
)

unlink(tf)

```

### Test Results

```{r message=FALSE}
library(ndjson)
library(testthat)

date()

test_dir("tests/")
```

Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). By participating in this project you agree to abide by its terms.